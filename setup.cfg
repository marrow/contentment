[aliases]
test = pytest

[check]
metadata = 1
restructuredtext = 1

[clean]
build-base = .packaging/build
bdist-base = .packaging/dist

[build]
build-base = .packaging/build
parallel = 3

[install]
optimize = 1

[bdist]
bdist-base = .packaging/dist
dist-dir = .packaging/release

[bdist_wheel]
bdist-dir = .packaging/dist
dist-dir = .packaging/release

[register]
;repository = https://pypi.python.org/pypi
strict = 1

[upload]
;repository = https://pypi.python.org/pypi
;sign = 1
;identity = ...

[isort]
line_length = 120
known_first_party =
	marrow
	web
	cinje
multi_line_output = 4
balanced_wrapping = True
indent='		'
sections = FUTURE,STDLIB,THIRDPARTY,FIRSTPARTY,LOCALFOLDER

[tool:pytest]
addopts =
	-l -r fEsxw
	--flakes
	--cov-report term-missing
	--cov-report xml
	--no-cov-on-fail
	--cov web.block.content
	--cov web.block.core
	--cov web.block.map
	--cov web.block.reference
	--cov web.block.video
	--cov web.component.alias
	--cov web.component.asset
	--cov web.component.page
	--cov web.component.rewrite
	--cov web.component.search
	--cov web.component.site
	--cov web.component.theme
	--cov web.component.upload
	--cov web.contentment
	--cov web.dispatch.contentment
	--cov web.ext.contentment
	--durations=5
	--color=yes
	--isort
	test

flakes-ignore =
	test/*.py UnusedImport
	test/*/*.py UnusedImport ImportStarUsed

filterwarnings =
	default
	ignore::DeprecationWarning:isort.*

[coverage:report]
exclude_lines =
        # Re-enable the standard pragma, since we override it.
        pragma: no( |-)?cov(er)?

        # Don't complain if non-runnable code isn't run:
        if 0:
        if False:
        if __name__ == .__main__.:

[coverage:run]
; omit =
